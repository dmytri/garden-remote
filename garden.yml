kind: Module
type: container
name: remote
image: nginx
variables:
  baseHostname: "${providers.local-kubernetes ? providers.local-kubernetes.outputs.default-hostname : 'kubecon.demo.garden'}"

services:
  - name: home
    replicas: 1
    volumes:
      - name: volume-home
        containerPath: /usr/share/nginx/html/sites
    ports:
      - name: http
        containerPort: 80
        servicePort: 80
    ingresses:
      - path: /
        port: http
        hostname: ${environment.namespace}.${var.baseHostname}
